<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layout}">
<head>
<title>Profile</title>
<th:block layout:fragment="styles">
	<link rel="stylesheet" href="/styles/css/admin/config.css">
	<link rel="stylesheet" href="/styles/css/component/modal.css">

</th:block>
</head>
<body>
	<div layout:fragment="content">


		<!-- THỐNG KÊ ĐƠN VỊ VẬN CHUYỂN -->
		<div class="stats-cards">
			<div class="stat-card total">
				<h3>Tổng phương thức vận chuyển</h3>
				<div class="value" id="totalDeliveriesStat"
					th:text="${totalDeliveries} ?: '0'">0</div>
			</div>
			<div class="stat-card active">
				<h3>Đang hoạt động</h3>
				<div class="value" id="activeDeliveriesStat"
					th:text="${activeDeliveries} ?: '0'">0</div>
			</div>
			<div class="stat-card inactive">
				<h3>Tạm ngưng</h3>
				<div class="value" id="inactiveDeliveriesStat"
					th:text="${inactiveDeliveries} ?: '0'">0</div>
			</div>
		</div>

		<!-- Nút mở modal -->
		<div class="d-flex justify-content-between align-items-center mb-3">

			<button type="button" class="btn btn-primary" data-bs-toggle="modal"
				data-bs-target="#addDeliveryModal">+ Thêm phương thức vận
				chuyển</button>
		</div>


		<div class="table-deliveries">
			<table>
				<thead>
					<tr>
						<th>STT</th>
						<th>Tên phương thức</th>
						<th>Giá cơ bản (₫)</th>
						<th>Giá/km (₫)</th>
						<th>Max K.cách (km)</th>
						<th>Mô tả</th>
						<th>Trạng thái</th>
						<th>Ngày tạo</th>
						<th>Thao tác</th>
					</tr>
				</thead>
				<tbody id="deliveryTableBody">
					<tr>
						<td colspan="9" style="text-align: center;">KHÔNG CÓ DỮ LIỆU</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="pagination" id="deliveryPagination"></div>

		<!-- Modal -->
		<div class="modal fade" id="addDeliveryModal" tabindex="-1"
			aria-labelledby="addDeliveryModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg modal-dialog-centered">
				<div class="modal-content">

					<div class="modal-header bg-primary text-white">
						<h5 class="modal-title" id="addDeliveryModalLabel">Thêm
							phương thức vận chuyển</h5>
						<button type="button" class="btn-close btn-close-white"
							data-bs-dismiss="modal" aria-label="Close"></button>
					</div>

					<form id="deliveryForm" th:action="@{/admin/delivery/add}"
						method="post">
						<div class="modal-body">

							<div class="mb-3">
								<label class="form-label">Tên phương thức vận chuyển *</label> <input
									type="text" class="form-control" name="deliveryName" required
									placeholder="Ví dụ: Giao Hàng Nhanh">
							</div>

							<div class="mb-3">
								<label class="form-label">Mô tả</label>
								<textarea class="form-control" name="description" rows="2"
									placeholder="Nhập mô tả..."></textarea>
							</div>

							<div class="row">
								<div class="col-md-4 mb-3">
									<label class="form-label">Giá cơ bản (₫)</label> <input
										type="number" min=0 step="0.01" class="form-control"
										name="basePrice" required>
								</div>
								<div class="col-md-4 mb-3">
									<label class="form-label">Giá mỗi km (₫)</label> <input
										type="number" min=0 step="0.01" class="form-control"
										name="pricePerKM">
								</div>
								<div class="col-md-4 mb-3">
									<label class="form-label">Khoảng cách tối đa hỗ trợ
										(km)</label> <input type="number" class="form-control"
										name="maxDistance">
								</div>
							</div>

							<div class="form-check form-switch mb-3">
								<input class="form-check-input" type="checkbox" name="isActive"
									value="true" id="isActiveSwitch"> <label
									class="form-check-label" for="isActiveSwitch">Kích hoạt
									phương thức vận chuyển</label>
							</div>

						</div>

						<div class="modal-footer">
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">Hủy</button>
							<button type="submit" class="btn btn-success">Lưu</button>
						</div>
					</form>
				</div>
			</div>
		</div>


	</div>

	<th:block layout:fragment="scripts">
		<script th:src="@{/styles/js/admin/delivery.js}"></script>
	</th:block>
</body>
</html>