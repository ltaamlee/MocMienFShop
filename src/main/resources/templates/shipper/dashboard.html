<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{shipper/layout}">
<head>
    <title>Dashboard Shipper</title>
</head>
<body>
<div layout:fragment="content">
    <h1 class="text-3xl font-bold mb-6 text-gray-800">üëã Ch√†o m·ª´ng, <span th:text="${#authentication.principal.username}">Shipper</span>!</h1>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="bg-white rounded-2xl shadow-lg p-5 border-l-4 border-pink-500 hover:shadow-xl transition duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-500 font-semibold uppercase">ƒê∆°n nh·∫≠n h√¥m nay</p>
                    <p class="text-4xl font-extrabold text-pink-600 mt-1" th:text="${todayOrders}">12</p>
                </div>
                <i class="fas fa-motorcycle text-4xl text-pink-200"></i>
            </div>
            <p class="text-xs text-gray-400 mt-2">ƒê∆°n m·ªõi & ƒêang giao</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-5 border-l-4 border-green-500 hover:shadow-xl transition duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-500 font-semibold uppercase">ƒê√£ giao th√†nh c√¥ng</p>
                    <p class="text-4xl font-extrabold text-green-600 mt-1" th:text="${deliveredOrders}">8</p>
                </div>
                <i class="fas fa-check-circle text-4xl text-green-200"></i>
            </div>
            <p class="text-xs text-gray-400 mt-2">T·ªïng ƒë∆°n ho√†n th√†nh</p>
        </div>
        
        <div class="bg-white rounded-2xl shadow-lg p-5 border-l-4 border-yellow-500 hover:shadow-xl transition duration-300">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-500 font-semibold uppercase">Thu nh·∫≠p h√¥m nay</p>
                    <p class="text-4xl font-extrabold text-yellow-600 mt-1" th:text="${income}">‚Ç´1,250,000</p>
                </div>
                <i class="fas fa-wallet text-4xl text-yellow-200"></i>
            </div>
            <a th:href="@{/shipper/ewallet}" class="text-xs text-pink-500 font-medium mt-2 block hover:underline">Xem chi ti·∫øt V√≠</a>
        </div>
    </div>
    
    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
        <div class="flex justify-between items-center mb-4 border-b pb-3">
            <h2 class="text-xl font-semibold text-gray-700">ƒê∆°n h√†ng s·∫Øp t·ªõi</h2>
            <a th:href="@{/shipper/order}" class="text-sm text-pink-600 hover:underline">Xem t·∫•t c·∫£ <i class="fas fa-arrow-right ml-1"></i></a>
        </div>
        
        <div th:if="${#lists.isEmpty(upcomingOrders)}" class="text-center py-6 text-gray-500">
             <i class="fas fa-box-open text-3xl mb-2"></i>
             <p>Ch∆∞a c√≥ ƒë∆°n h√†ng m·ªõi n√†o ƒë∆∞·ª£c ph√¢n c√¥ng.</p>
        </div>
        
        <div th:each="order : ${upcomingOrders}" class="border-b last:border-b-0 py-3">
            <div class="flex justify-between items-center">
                <div>
                    <p class="font-medium text-gray-800">#<span th:text="${order.id}">1001</span> - <span th:text="${order.customerName}">Nguy·ªÖn VƒÉn A</span></p>
                    <p class="text-xs text-gray-500 flex items-center mt-1">
                        <i class="fas fa-map-marker-alt mr-1 text-pink-500"></i>
                        <span th:text="${order.address}">ƒê·ªãa ch·ªâ nh·∫≠n h√†ng ng·∫Øn g·ªçn...</span>
                    </p>
                </div>
                <div class="text-right">
                    <span th:classappend="${order.status == 'PICKUP'} ? 'bg-blue-100 text-blue-600' : 'bg-orange-100 text-orange-600'" 
                          class="text-xs font-semibold px-2 py-1 rounded-full uppercase">
                          <span th:text="${order.status}">PICKUP</span>
                    </span>
                    <a th:href="@{/shipper/order/{id}(id=${order.id})}" class="text-pink-500 text-sm ml-2 hover:text-pink-700 block mt-1">Chi ti·∫øt</a>
                </div>
            </div>
        </div>
        </div>
    
</div>
</body>
</html>