<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{shipper/layout}">
<head>
    <title>V√≠ ƒêi·ªán T·ª≠</title>
</head>
<body>
<div layout:fragment="content">
    <h2 class="text-2xl font-bold mb-6 text-pink-600">üí∞ V√≠ ƒêi·ªán T·ª≠ (E-Wallet)</h2>

    <div class="bg-gradient-to-r from-pink-500 to-red-500 text-white rounded-2xl shadow-xl p-6 mb-6">
        <p class="text-lg font-light mb-1">S·ªë d∆∞ hi·ªán t·∫°i</p>
        <p class="text-5xl font-extrabold" th:text="${#numbers.formatCurrency(shipper.eWallet)}">‚Ç´2,500,000</p>
        
        <div class="mt-4 flex space-x-3">
            <button class="flex-1 py-2 bg-white text-pink-600 font-semibold rounded-lg hover:bg-gray-100 transition duration-200 text-sm">
                <i class="fas fa-money-bill-alt mr-2"></i> R√∫t ti·ªÅn
            </button>
            <button class="flex-1 py-2 bg-pink-700 text-white font-semibold rounded-lg hover:bg-pink-800 transition duration-200 text-sm">
                <i class="fas fa-history mr-2"></i> L·ªãch s·ª≠ giao d·ªãch
            </button>
        </div>
    </div>
    
    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-gray-700">Th·ªëng k√™ thu nh·∫≠p</h3>
        <div class="grid grid-cols-3 gap-4 text-center">
            <div>
                <p class="text-sm text-gray-500">Tu·∫ßn n√†y</p>
                <p class="text-xl font-bold text-green-600" th:text="${#numbers.formatCurrency(weeklyIncome)}">‚Ç´5,500,000</p>
            </div>
            <div class="border-x">
                <p class="text-sm text-gray-500">Th√°ng n√†y</p>
                <p class="text-xl font-bold text-green-600" th:text="${#numbers.formatCurrency(monthlyIncome)}">‚Ç´25,000,000</p>
            </div>
            <div>
                <p class="text-sm text-gray-500">T·ªïng ph√≠ giao h√†ng</p>
                <p class="text-xl font-bold text-green-600" th:text="${#numbers.formatCurrency(totalDeliveryFee)}">‚Ç´100,000,000</p>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6">
        <h3 class="text-xl font-semibold mb-4 border-b pb-2 text-gray-700">Giao d·ªãch g·∫ßn nh·∫•t</h3>
        
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ng√†y</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">M√¥ t·∫£</th>
                        <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">S·ªë ti·ªÅn</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lo·∫°i</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr th:each="txn : ${latestTransactions}">
                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500" th:text="${#temporals.format(txn.createAt, 'dd/MM HH:mm')}">28/10 14:30</td>
                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900" th:text="${txn.description}">Ph√≠ giao h√†ng #1005</td>
                        <td th:classappend="${txn.type == 'CREDIT'} ? 'text-green-600' : 'text-red-600'" 
                            class="px-4 py-3 whitespace-nowrap text-sm font-semibold text-right" th:text="${#numbers.formatCurrency(txn.amount)}">
                            +‚Ç´35,000
                        </td>
                        <td class="px-4 py-3 whitespace-nowrap">
                            <span th:classappend="${txn.type == 'CREDIT'} ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'"
                                  class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full">
                                  <span th:text="${txn.type == 'CREDIT'} ? 'Thu' : 'Chi'">Thu</span>
                            </span>
                        </td>
                    </tr>
                    </tbody>
            </table>
        </div>
        <div class="mt-4 text-right">
            <a th:href="@{/shipper/ewallet/history}" class="text-sm text-pink-600 hover:underline">Xem to√†n b·ªô l·ªãch s·ª≠ <i class="fas fa-arrow-right ml-1"></i></a>
        </div>
    </div>
</div>
</body>
</html>