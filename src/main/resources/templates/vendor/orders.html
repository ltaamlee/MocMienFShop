<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{vendor/layout}">
<head>
<title>Quản lý Sản phẩm</title>
<th:block layout:fragment="styles">
	<link rel="stylesheet" href="/styles/css/vendor/header.css">
	<link rel="stylesheet" href="/styles/css/vendor/main.css">
</th:block>
</head>
<body>
	<div layout:fragment="content">
		<div class="page-header">
			<h1>Đơn hàng của Shop</h1>
			<div class="d-flex gap-2">
				<a class="btn-add" href="#" onclick="loadOrders(0)"><i
					class="fas fa-rotate"></i> Tải lại</a>
			</div>
		</div>

		<div class="search-filter-container">
			<div class="search-box">
				<input type="text" id="keyword"
					placeholder="Tìm theo mã đơn / tên khách...">
				<button onclick="loadOrders(0)">
					<i class="fas fa-search"></i> Tìm kiếm
				</button>
			</div>
			<div class="filter-item">
				<label>Trạng thái:</label> <select id="status">
					<option value="">Tất cả</option>
					<option value="NEW">Đơn hàng mới</option>
					<option value="PENDING">Chờ xử lý</option>
					<option value="CONFIRMED">Đã xác nhận</option>
				</select>
			</div>
		</div>

		<section class="store-section">
			<div class="section-header">
				<div>
					<h2 class="section-title">Danh sách đơn hàng</h2>
				</div>
			</div>

			<div class="table-wrapper table-stores">
				<table>
					<thead>
						<tr>
							<th>#</th>
							<th>Mã đơn</th>
							<th>Khách hàng</th>
							<th>Ngày đặt</th>
							<th>Tổng tiền</th>
							<th>Thanh toán</th>
							<th>Trạng thái</th>
							<th class="text-right">Thao tác</th>
						</tr>
					</thead>
					<tbody id="ordersTbody">
						<tr>
							<td colspan="8" class="text-center">Đang tải…</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="pagination" id="pagination"></div>
		</section>

		<!-- Modal xem chi tiết -->
		<div id="orderDetailModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<h2>Chi tiết đơn hàng</h2>
					<button class="close-modal"
						onclick="closeModal('orderDetailModal')">&times;</button>
				</div>
				<div class="modal-body" id="detailBody">
					<!-- nội dung sẽ render bằng JS -->
				</div>
				<div class="modal-footer">
					<button class="btn-cancel" onclick="closeModal('orderDetailModal')">Đóng</button>
				</div>
			</div>
		</div>

	</div>

	<th:block layout:fragment="scripts">
		<script src="https://kit.fontawesome.com/a2e0e6ad65.js"
			crossorigin="anonymous"></script>
		<script src="/styles/js/vendor/orders.js"></script>
	</th:block>
</body>
</html>